<!DOCTYPE html>
<html>
  <head>
    <title>W07D05 Quiznos</title>
    <link href='http://fonts.googleapis.com/css?family=VT323' rel='stylesheet' type='text/css'>
    <style>
      *
      {
        margin:0;
        padding:0;
        border:0;
        font-size:0;
        box-sizing:border-box;
        font-family: "VT323", monospace;
      }
      body,html,form
      {
        position:relative;
        width:100%;
        height:100%;
        background-color:black;
      }
      form
      {
        display:block;
      }
      #counter
      {
        display:block;
        width:320px;
        position:relative;
        top:30%;
        margin:0 auto;
        border-radius:10px;
        font-size:144px;
        line-height:144px;
        text-align:right;
        padding:0px 24px;
        background-color:transparent;
        color:#0f0;
        box-shadow:0px 0px 100px 0px #060;
        cursor:pointer;
      }
      #counter:focus
      {
        outline:0;
      }
      #counter:hover
      {
        color:#8f8;
      }
      #counter.fail
      {
        color:red;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        $(document).ready(function(){

            var firstNum = $("#counter").prop("value")
            //need a state to compare things to for click function as learned in project 1 with adding an active class.
            var isCountingDown = false;
            var timer;


            function minusOne(){
                $("#counter").prop("value", firstNum);
                //decrease original num by 1
                if(isCountingDown){
                    firstNum=firstNum-1;
                }
                isCountingDown = true;
                //If number is 0 or less then stop the timer.
                if(firstNum <= 0){
                    // IF the counter reaches 0, the counter's text should turn red.
                    $("#counter").addClass("fail")
                    isCountingDown = false;
                }
            }

            
            $("#counter").click(function(evt){
                //default for all buttons is to reset it's value.
                evt.preventDefault();
                if(isCountingDown === true){
                    clearInterval(timer);
                    isCountingDown = false;
                //beginning of program it is false so this should run on first click.
                }else if(isCountingDown === false){
                    if(firstNum === 0){
                        firstNum = 10;
                    }else if(firstNum > 0){
                        timer = setInterval(minusOne, 1000)
                    }
                    isCountingDown = true;
                }
            });

            //FIXME: When you click on the counter again, continue the timer. At 0 on click should reset to original number.

        })











            // After the counter is clicked, every 1 second decrease the original value of the counter by 1 and replace the counter's text with the new value. When you click on the counter, stop the timer. When you click on the counter again, continue the timer. If the counter reaches 0, the counter's text should turn red and the timer should stop.
            // After the counter is clicked, every 1 second decrease the original value of the counter by 1 and replace the counter's text with the new value. When you click on the counter, stop the timer. If the counter reaches 0, the counter's text should turn red and the timer should stop. When you click on the timer once it is stopped, its value should go back to the original value and the timer should start again.

    </script>

  </head>
  <body>

    <form>
      <input type="submit" id="counter" value="10" />
    </form>

  </body>
</html>
